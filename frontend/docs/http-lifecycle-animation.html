<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Güvenlik Başlıkları -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; script-src 'self' 'unsafe-inline';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">

    <title>HTTP İstek Yaşam Döngüsü | Teknik Analiz</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>HTTP İstek Yaşam Döngüsü</h1>
            <p>Bir API isteğinin istemciden başlayıp ağ katmanları, güvenlik, sunucu ve veritabanına kadar uzanan
                teknik yolculuğunu adım adım görselleştirir.</p>
        </header>

        <section class="intro-grid">
            <div class="intro-card">
                <div class="intro-title">Amaç</div>
                <p>İstek akışındaki kritik noktaları görünür kılmak: paketleme, TLS, middleware, handler ve DB
                    etkileşimleri.</p>
            </div>
            <div class="intro-card">
                <div class="intro-title">Nasıl Kullanılır</div>
                <ul>
                    <li>Metodu seç ve “Animasyonu Başlat” ile akışı başlat.</li>
                    <li>Dil sekmesiyle kod örneklerini değiştir.</li>
                    <li>Geri/İleri ile adım adım derinlemesine incele.</li>
                </ul>
            </div>
            <div class="intro-card">
                <div class="intro-title">Notlar</div>
                <p>Zamanlamalar ve değerler örneklidir; amaç mimariyi ve veri yolculuğunu anlaşılır kılmaktır.</p>
            </div>
        </section>

        <div class="lang-selector">
            <button class="lang-btn active" data-lang="go">Go</button>
            <button class="lang-btn" data-lang="python">Python</button>
            <button class="lang-btn" data-lang="node">Node.js</button>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="stage-indicator" id="stageIndicator">
            <div class="stage-dot" data-stage="0">
                <div class="dot"></div><span>İstek</span>
            </div>
            <div class="stage-dot" data-stage="1">
                <div class="dot"></div><span>OSI/Paket</span>
            </div>
            <div class="stage-dot" data-stage="2">
                <div class="dot"></div><span>TLS/Güvenlik</span>
            </div>
            <div class="stage-dot" data-stage="3">
                <div class="dot"></div><span>Sunucu</span>
            </div>
            <div class="stage-dot" data-stage="4">
                <div class="dot"></div><span>Router</span>
            </div>
            <div class="stage-dot" data-stage="5">
                <div class="dot"></div><span>Middleware</span>
            </div>
            <div class="stage-dot" data-stage="6">
                <div class="dot"></div><span>Handler</span>
            </div>
            <div class="stage-dot" data-stage="7">
                <div class="dot"></div><span>Veritabanı</span>
            </div>
            <div class="stage-dot" data-stage="8">
                <div class="dot"></div><span>Marshaling</span>
            </div>
            <div class="stage-dot" data-stage="9">
                <div class="dot"></div><span>Yanıt</span>
            </div>
        </div>

        <div class="legend">
            <span class="legend-item">İstemci</span>
            <span class="legend-item">OSI / Paket</span>
            <span class="legend-item">TLS / Güvenlik</span>
            <span class="legend-item">Sunucu & Router</span>
            <span class="legend-item">Middleware</span>
            <span class="legend-item">Handler</span>
            <span class="legend-item">Veritabanı</span>
            <span class="legend-item">Yanıt</span>
        </div>

        <div class="animation-area">
            <aside class="side-panel">
                <h3>Teknik Detaylar</h3>
                <p class="panel-hint">Her adımda RFC notları, header/payload analizi ve projeye uygun kod örnekleri
                    bulunur.</p>
                <div id="technicalDetails">
                    <div style="opacity: 0.5;">Analiz için "Animasyonu Başlat" butonuna tıklayın.</div>
                </div>
            </aside>

            <main class="center-viz" id="centerViz">
                <h2 class="viz-title" id="vizTitle">HTTP Akış Simülasyonu</h2>
                <div class="viz-content" id="vizContent">
                    <div style="text-align: center; margin-top: 100px;">
                        <div style="font-size: 1.2rem; color: var(--primary); font-weight: bold; margin-bottom: 20px;">[
                            SİSTEM HAZIR ]</div>
                        <p style="color: rgba(255,255,255,0.6);">Analiz etmek istediğiniz HTTP metodunu seçin ve
                            başlatın.</p>
                    </div>
                </div>
            </main>

            <aside class="side-panel">
                <h3>Aktif Bileşen</h3>
                <p class="panel-hint">İstek akışı boyunca hangi katmanın aktif olduğunu burada takip edebilirsin.</p>
                <div id="activeComponent">
                    <div style="opacity: 0.5;">Sistem beklemede...</div>
                </div>
            </aside>
        </div>

        <div class="method-selector">
            <button class="method-btn active" data-method="GET">GET</button>
            <button class="method-btn" data-method="POST">POST</button>
            <button class="method-btn" data-method="PUT">PUT</button>
            <button class="method-btn" data-method="PATCH">PATCH</button>
            <button class="method-btn" data-method="DELETE">DELETE</button>
            <button class="method-btn" data-method="LOGIN">LOGIN</button>
            <button class="method-btn" data-method="LOGOUT">LOGOUT</button>
        </div>

        <div class="controls">
            <button class="btn btn-secondary" id="prevBtn" disabled>Geri</button>
            <button class="btn btn-primary" id="nextBtn">Animasyonu Başlat</button>
            <button class="btn btn-secondary" id="resetBtn">Sıfırla</button>
        </div>
    </div>

    <!-- Script Yüklemeleri -->
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>

</html>
